/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../node_modules/vanilla-picker/dist/vanilla-picker.mjs":
/*!**************************************************************!*\
  !*** ../node_modules/vanilla-picker/dist/vanilla-picker.mjs ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Picker; });
/*!
 * vanilla-picker v2.12.1
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */
var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

String.prototype.startsWith = String.prototype.startsWith || function (needle) {
    return this.indexOf(needle) === 0;
};
String.prototype.padStart = String.prototype.padStart || function (len, pad) {
    var str = this;while (str.length < len) {
        str = pad + str;
    }return str;
};

var colorNames = { cb: '0f8ff', tqw: 'aebd7', q: '-ffff', qmrn: '7fffd4', zr: '0ffff', bg: '5f5dc', bsq: 'e4c4', bck: '---', nch: 'ebcd', b: '--ff', bvt: '8a2be2', brwn: 'a52a2a', brw: 'deb887', ctb: '5f9ea0', hrt: '7fff-', chcT: 'd2691e', cr: '7f50', rnw: '6495ed', crns: '8dc', crms: 'dc143c', cn: '-ffff', Db: '--8b', Dcn: '-8b8b', Dgnr: 'b8860b', Dgr: 'a9a9a9', Dgrn: '-64-', Dkhk: 'bdb76b', Dmgn: '8b-8b', Dvgr: '556b2f', Drng: '8c-', Drch: '9932cc', Dr: '8b--', Dsmn: 'e9967a', Dsgr: '8fbc8f', DsTb: '483d8b', DsTg: '2f4f4f', Dtrq: '-ced1', Dvt: '94-d3', ppnk: '1493', pskb: '-bfff', mgr: '696969', grb: '1e90ff', rbrc: 'b22222', rwht: 'af0', stg: '228b22', chs: '-ff', gnsb: 'dcdcdc', st: '8f8ff', g: 'd7-', gnr: 'daa520', gr: '808080', grn: '-8-0', grnw: 'adff2f', hnw: '0fff0', htpn: '69b4', nnr: 'cd5c5c', ng: '4b-82', vr: '0', khk: '0e68c', vnr: 'e6e6fa', nrb: '0f5', wngr: '7cfc-', mnch: 'acd', Lb: 'add8e6', Lcr: '08080', Lcn: 'e0ffff', Lgnr: 'afad2', Lgr: 'd3d3d3', Lgrn: '90ee90', Lpnk: 'b6c1', Lsmn: 'a07a', Lsgr: '20b2aa', Lskb: '87cefa', LsTg: '778899', Lstb: 'b0c4de', Lw: 'e0', m: '-ff-', mgrn: '32cd32', nn: 'af0e6', mgnt: '-ff', mrn: '8--0', mqm: '66cdaa', mmb: '--cd', mmrc: 'ba55d3', mmpr: '9370db', msg: '3cb371', mmsT: '7b68ee', '': '-fa9a', mtr: '48d1cc', mmvt: 'c71585', mnLb: '191970', ntc: '5fffa', mstr: 'e4e1', mccs: 'e4b5', vjw: 'dead', nv: '--80', c: 'df5e6', v: '808-0', vrb: '6b8e23', rng: 'a5-', rngr: '45-', rch: 'da70d6', pgnr: 'eee8aa', pgrn: '98fb98', ptrq: 'afeeee', pvtr: 'db7093', ppwh: 'efd5', pchp: 'dab9', pr: 'cd853f', pnk: 'c0cb', pm: 'dda0dd', pwrb: 'b0e0e6', prp: '8-080', cc: '663399', r: '--', sbr: 'bc8f8f', rb: '4169e1', sbrw: '8b4513', smn: 'a8072', nbr: '4a460', sgrn: '2e8b57', ssh: '5ee', snn: 'a0522d', svr: 'c0c0c0', skb: '87ceeb', sTb: '6a5acd', sTgr: '708090', snw: 'afa', n: '-ff7f', stb: '4682b4', tn: 'd2b48c', t: '-8080', thst: 'd8bfd8', tmT: '6347', trqs: '40e0d0', vt: 'ee82ee', whT: '5deb3', wht: '', hts: '5f5f5', w: '-', wgrn: '9acd32' };

function printNum(num) {
    var decs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

    var str = decs > 0 ? num.toFixed(decs).replace(/0+$/, '').replace(/\.$/, '') : num.toString();
    return str || '0';
}

var Color = function () {
    function Color(r, g, b, a) {
        classCallCheck(this, Color);


        var that = this;
        function parseString(input) {

            if (input.startsWith('hsl')) {
                var _input$match$map = input.match(/([\-\d\.e]+)/g).map(Number),
                    _input$match$map2 = slicedToArray(_input$match$map, 4),
                    h = _input$match$map2[0],
                    s = _input$match$map2[1],
                    l = _input$match$map2[2],
                    _a = _input$match$map2[3];

                if (_a === undefined) {
                    _a = 1;
                }

                h /= 360;
                s /= 100;
                l /= 100;
                that.hsla = [h, s, l, _a];
            } else if (input.startsWith('rgb')) {
                var _input$match$map3 = input.match(/([\-\d\.e]+)/g).map(Number),
                    _input$match$map4 = slicedToArray(_input$match$map3, 4),
                    _r = _input$match$map4[0],
                    _g = _input$match$map4[1],
                    _b = _input$match$map4[2],
                    _a2 = _input$match$map4[3];

                if (_a2 === undefined) {
                    _a2 = 1;
                }

                that.rgba = [_r, _g, _b, _a2];
            } else {
                if (input.startsWith('#')) {
                    that.rgba = Color.hexToRgb(input);
                } else {
                    that.rgba = Color.nameToRgb(input) || Color.hexToRgb(input);
                }
            }
        }

        if (r === undefined) ; else if (Array.isArray(r)) {
            this.rgba = r;
        } else if (b === undefined) {
            var color = r && '' + r;
            if (color) {
                parseString(color.toLowerCase());
            }
        } else {
            this.rgba = [r, g, b, a === undefined ? 1 : a];
        }
    }

    createClass(Color, [{
        key: 'printRGB',
        value: function printRGB(alpha) {
            var rgb = alpha ? this.rgba : this.rgba.slice(0, 3),
                vals = rgb.map(function (x, i) {
                return printNum(x, i === 3 ? 3 : 0);
            });

            return alpha ? 'rgba(' + vals + ')' : 'rgb(' + vals + ')';
        }
    }, {
        key: 'printHSL',
        value: function printHSL(alpha) {
            var mults = [360, 100, 100, 1],
                suff = ['', '%', '%', ''];

            var hsl = alpha ? this.hsla : this.hsla.slice(0, 3),
                vals = hsl.map(function (x, i) {
                return printNum(x * mults[i], i === 3 ? 3 : 1) + suff[i];
            });

            return alpha ? 'hsla(' + vals + ')' : 'hsl(' + vals + ')';
        }
    }, {
        key: 'printHex',
        value: function printHex(alpha) {
            var hex = this.hex;
            return alpha ? hex : hex.substring(0, 7);
        }
    }, {
        key: 'rgba',
        get: function get() {
            if (this._rgba) {
                return this._rgba;
            }
            if (!this._hsla) {
                throw new Error('No color is set');
            }

            return this._rgba = Color.hslToRgb(this._hsla);
        },
        set: function set(rgb) {
            if (rgb.length === 3) {
                rgb[3] = 1;
            }

            this._rgba = rgb;
            this._hsla = null;
        }
    }, {
        key: 'rgbString',
        get: function get() {
            return this.printRGB();
        }
    }, {
        key: 'rgbaString',
        get: function get() {
            return this.printRGB(true);
        }
    }, {
        key: 'hsla',
        get: function get() {
            if (this._hsla) {
                return this._hsla;
            }
            if (!this._rgba) {
                throw new Error('No color is set');
            }

            return this._hsla = Color.rgbToHsl(this._rgba);
        },
        set: function set(hsl) {
            if (hsl.length === 3) {
                hsl[3] = 1;
            }

            this._hsla = hsl;
            this._rgba = null;
        }
    }, {
        key: 'hslString',
        get: function get() {
            return this.printHSL();
        }
    }, {
        key: 'hslaString',
        get: function get() {
            return this.printHSL(true);
        }
    }, {
        key: 'hex',
        get: function get() {
            var rgb = this.rgba,
                hex = rgb.map(function (x, i) {
                return i < 3 ? x.toString(16) : Math.round(x * 255).toString(16);
            });

            return '#' + hex.map(function (x) {
                return x.padStart(2, '0');
            }).join('');
        },
        set: function set(hex) {
            this.rgba = Color.hexToRgb(hex);
        }
    }], [{
        key: 'hexToRgb',
        value: function hexToRgb(input) {

            var hex = (input.startsWith('#') ? input.slice(1) : input).replace(/^(\w{3})$/, '$1F').replace(/^(\w)(\w)(\w)(\w)$/, '$1$1$2$2$3$3$4$4').replace(/^(\w{6})$/, '$1FF');

            if (!hex.match(/^([0-9a-fA-F]{8})$/)) {
                throw new Error('Unknown hex color; ' + input);
            }

            var rgba = hex.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function (x) {
                return parseInt(x, 16);
            });

            rgba[3] = rgba[3] / 255;
            return rgba;
        }
    }, {
        key: 'nameToRgb',
        value: function nameToRgb(input) {

            var hash = input.toLowerCase().replace('at', 'T').replace(/[aeiouyldf]/g, '').replace('ght', 'L').replace('rk', 'D').slice(-5, 4),
                hex = colorNames[hash];
            return hex === undefined ? hex : Color.hexToRgb(hex.replace(/\-/g, '00').padStart(6, 'f'));
        }
    }, {
        key: 'rgbToHsl',
        value: function rgbToHsl(_ref) {
            var _ref2 = slicedToArray(_ref, 4),
                r = _ref2[0],
                g = _ref2[1],
                b = _ref2[2],
                a = _ref2[3];

            r /= 255;
            g /= 255;
            b /= 255;

            var max = Math.max(r, g, b),
                min = Math.min(r, g, b);
            var h = void 0,
                s = void 0,
                l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                var d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r:
                        h = (g - b) / d + (g < b ? 6 : 0);break;
                    case g:
                        h = (b - r) / d + 2;break;
                    case b:
                        h = (r - g) / d + 4;break;
                }

                h /= 6;
            }

            return [h, s, l, a];
        }
    }, {
        key: 'hslToRgb',
        value: function hslToRgb(_ref3) {
            var _ref4 = slicedToArray(_ref3, 4),
                h = _ref4[0],
                s = _ref4[1],
                l = _ref4[2],
                a = _ref4[3];

            var r = void 0,
                g = void 0,
                b = void 0;

            if (s === 0) {
                r = g = b = l;
            } else {
                var hue2rgb = function hue2rgb(p, q, t) {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                };

                var q = l < 0.5 ? l * (1 + s) : l + s - l * s,
                    p = 2 * l - q;

                r = hue2rgb(p, q, h + 1 / 3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1 / 3);
            }

            var rgba = [r * 255, g * 255, b * 255].map(Math.round);
            rgba[3] = a;

            return rgba;
        }
    }]);
    return Color;
}();

var EventBucket = function () {
    function EventBucket() {
        classCallCheck(this, EventBucket);

        this._events = [];
    }

    createClass(EventBucket, [{
        key: 'add',
        value: function add(target, type, handler) {
            target.addEventListener(type, handler, false);
            this._events.push({
                target: target,
                type: type,
                handler: handler
            });
        }
    }, {
        key: 'remove',
        value: function remove(target, type, handler) {
            this._events = this._events.filter(function (e) {
                var isMatch = true;
                if (target && target !== e.target) {
                    isMatch = false;
                }
                if (type && type !== e.type) {
                    isMatch = false;
                }
                if (handler && handler !== e.handler) {
                    isMatch = false;
                }

                if (isMatch) {
                    EventBucket._doRemove(e.target, e.type, e.handler);
                }
                return !isMatch;
            });
        }
    }, {
        key: 'destroy',
        value: function destroy() {
            this._events.forEach(function (e) {
                return EventBucket._doRemove(e.target, e.type, e.handler);
            });
            this._events = [];
        }
    }], [{
        key: '_doRemove',
        value: function _doRemove(target, type, handler) {
            target.removeEventListener(type, handler, false);
        }
    }]);
    return EventBucket;
}();

function parseHTML(htmlString) {

    var div = document.createElement('div');
    div.innerHTML = htmlString;
    return div.firstElementChild;
}

function dragTrack(eventBucket, area, callback) {
    var dragging = false;

    function clamp(val, min, max) {
        return Math.max(min, Math.min(val, max));
    }

    function onMove(e, info, starting) {
        if (starting) {
            dragging = true;
        }
        if (!dragging) {
            return;
        }

        e.preventDefault();

        var bounds = area.getBoundingClientRect(),
            w = bounds.width,
            h = bounds.height,
            x = info.clientX,
            y = info.clientY;

        var relX = clamp(x - bounds.left, 0, w),
            relY = clamp(y - bounds.top, 0, h);

        callback(relX / w, relY / h);
    }

    function onMouse(e, starting) {
        var button = e.buttons === undefined ? e.which : e.buttons;
        if (button === 1) {
            onMove(e, e, starting);
        } else {
            dragging = false;
        }
    }

    function onTouch(e, starting) {
        if (e.touches.length === 1) {
            onMove(e, e.touches[0], starting);
        } else {
            dragging = false;
        }
    }

    eventBucket.add(area, 'mousedown', function (e) {
        onMouse(e, true);
    });
    eventBucket.add(area, 'touchstart', function (e) {
        onTouch(e, true);
    });
    eventBucket.add(window, 'mousemove', onMouse);
    eventBucket.add(area, 'touchmove', onTouch);
    eventBucket.add(window, 'mouseup', function (e) {
        dragging = false;
    });
    eventBucket.add(area, 'touchend', function (e) {
        dragging = false;
    });
    eventBucket.add(area, 'touchcancel', function (e) {
        dragging = false;
    });
}

var BG_TRANSP = 'linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em';
var HUES = 360;

var EVENT_KEY = 'keydown',
    EVENT_CLICK_OUTSIDE = 'mousedown',
    EVENT_TAB_MOVE = 'focusin';

function $(selector, context) {
    return (context || document).querySelector(selector);
}

function stopEvent(e) {

    e.preventDefault();
    e.stopPropagation();
}
function onKey(bucket, target, keys, handler, stop) {
    bucket.add(target, EVENT_KEY, function (e) {
        if (keys.indexOf(e.key) >= 0) {
            if (stop) {
                stopEvent(e);
            }
            handler(e);
        }
    });
}

var Picker = function () {
    function Picker(options) {
        classCallCheck(this, Picker);


        this.settings = {

            popup: 'right',
            layout: 'default',
            alpha: true,
            editor: true,
            editorFormat: 'hex',
            cancelButton: false,
            defaultColor: '#0cf'
        };

        this._events = new EventBucket();

        this.onChange = null;

        this.onDone = null;

        this.onOpen = null;

        this.onClose = null;

        this.setOptions(options);
    }

    createClass(Picker, [{
        key: 'setOptions',
        value: function setOptions(options) {
            var _this = this;

            if (!options) {
                return;
            }
            var settings = this.settings;

            function transfer(source, target, skipKeys) {
                for (var key in source) {
                    if (skipKeys && skipKeys.indexOf(key) >= 0) {
                        continue;
                    }

                    target[key] = source[key];
                }
            }

            if (options instanceof HTMLElement) {
                settings.parent = options;
            } else {

                if (settings.parent && options.parent && settings.parent !== options.parent) {
                    this._events.remove(settings.parent);
                    this._popupInited = false;
                }

                transfer(options, settings);

                if (options.onChange) {
                    this.onChange = options.onChange;
                }
                if (options.onDone) {
                    this.onDone = options.onDone;
                }
                if (options.onOpen) {
                    this.onOpen = options.onOpen;
                }
                if (options.onClose) {
                    this.onClose = options.onClose;
                }

                var col = options.color || options.colour;
                if (col) {
                    this._setColor(col);
                }
            }

            var parent = settings.parent;
            if (parent && settings.popup && !this._popupInited) {

                var openProxy = function openProxy(e) {
                    return _this.openHandler(e);
                };

                this._events.add(parent, 'click', openProxy);

                onKey(this._events, parent, [' ', 'Spacebar', 'Enter'], openProxy);

                this._popupInited = true;
            } else if (options.parent && !settings.popup) {
                this.show();
            }
        }
    }, {
        key: 'openHandler',
        value: function openHandler(e) {
            if (this.show()) {

                e && e.preventDefault();

                this.settings.parent.style.pointerEvents = 'none';

                var toFocus = e && e.type === EVENT_KEY ? this._domEdit : this.domElement;
                setTimeout(function () {
                    return toFocus.focus();
                }, 100);

                if (this.onOpen) {
                    this.onOpen(this.colour);
                }
            }
        }
    }, {
        key: 'closeHandler',
        value: function closeHandler(e) {
            var event = e && e.type;
            var doHide = false;

            if (!e) {
                doHide = true;
            } else if (event === EVENT_CLICK_OUTSIDE || event === EVENT_TAB_MOVE) {

                var knownTime = (this.__containedEvent || 0) + 100;
                if (e.timeStamp > knownTime) {
                    doHide = true;
                }
            } else {

                stopEvent(e);

                doHide = true;
            }

            if (doHide && this.hide()) {
                this.settings.parent.style.pointerEvents = '';

                if (event !== EVENT_CLICK_OUTSIDE) {
                    this.settings.parent.focus();
                }

                if (this.onClose) {
                    this.onClose(this.colour);
                }
            }
        }
    }, {
        key: 'movePopup',
        value: function movePopup(options, open) {

            this.closeHandler();

            this.setOptions(options);
            if (open) {
                this.openHandler();
            }
        }
    }, {
        key: 'setColor',
        value: function setColor(color, silent) {
            this._setColor(color, { silent: silent });
        }
    }, {
        key: '_setColor',
        value: function _setColor(color, flags) {
            if (typeof color === 'string') {
                color = color.trim();
            }
            if (!color) {
                return;
            }

            flags = flags || {};
            var c = void 0;
            try {

                c = new Color(color);
            } catch (ex) {
                if (flags.failSilently) {
                    return;
                }
                throw ex;
            }

            if (!this.settings.alpha) {
                var hsla = c.hsla;
                hsla[3] = 1;
                c.hsla = hsla;
            }
            this.colour = this.color = c;
            this._setHSLA(null, null, null, null, flags);
        }
    }, {
        key: 'setColour',
        value: function setColour(colour, silent) {
            this.setColor(colour, silent);
        }
    }, {
        key: 'show',
        value: function show() {
            var parent = this.settings.parent;
            if (!parent) {
                return false;
            }

            if (this.domElement) {
                var toggled = this._toggleDOM(true);

                this._setPosition();

                return toggled;
            }

            var html = this.settings.template || '<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>';
            var wrapper = parseHTML(html);

            this.domElement = wrapper;
            this._domH = $('.picker_hue', wrapper);
            this._domSL = $('.picker_sl', wrapper);
            this._domA = $('.picker_alpha', wrapper);
            this._domEdit = $('.picker_editor input', wrapper);
            this._domSample = $('.picker_sample', wrapper);
            this._domOkay = $('.picker_done button', wrapper);
            this._domCancel = $('.picker_cancel button', wrapper);

            wrapper.classList.add('layout_' + this.settings.layout);
            if (!this.settings.alpha) {
                wrapper.classList.add('no_alpha');
            }
            if (!this.settings.editor) {
                wrapper.classList.add('no_editor');
            }
            if (!this.settings.cancelButton) {
                wrapper.classList.add('no_cancel');
            }
            this._ifPopup(function () {
                return wrapper.classList.add('popup');
            });

            this._setPosition();

            if (this.colour) {
                this._updateUI();
            } else {
                this._setColor(this.settings.defaultColor);
            }
            this._bindEvents();

            return true;
        }
    }, {
        key: 'hide',
        value: function hide() {
            return this._toggleDOM(false);
        }
    }, {
        key: 'destroy',
        value: function destroy() {
            this._events.destroy();
            if (this.domElement) {
                this.settings.parent.removeChild(this.domElement);
            }
        }
    }, {
        key: '_bindEvents',
        value: function _bindEvents() {
            var _this2 = this;

            var that = this,
                dom = this.domElement,
                events = this._events;

            function addEvent(target, type, handler) {
                events.add(target, type, handler);
            }

            addEvent(dom, 'click', function (e) {
                return e.preventDefault();
            });

            dragTrack(events, this._domH, function (x, y) {
                return that._setHSLA(x);
            });

            dragTrack(events, this._domSL, function (x, y) {
                return that._setHSLA(null, x, 1 - y);
            });

            if (this.settings.alpha) {
                dragTrack(events, this._domA, function (x, y) {
                    return that._setHSLA(null, null, null, 1 - y);
                });
            }

            var editInput = this._domEdit;
            {
                addEvent(editInput, 'input', function (e) {
                    that._setColor(this.value, { fromEditor: true, failSilently: true });
                });

                addEvent(editInput, 'focus', function (e) {
                    var input = this;

                    if (input.selectionStart === input.selectionEnd) {
                        input.select();
                    }
                });
            }

            this._ifPopup(function () {

                var popupCloseProxy = function popupCloseProxy(e) {
                    return _this2.closeHandler(e);
                };

                addEvent(window, EVENT_CLICK_OUTSIDE, popupCloseProxy);
                addEvent(window, EVENT_TAB_MOVE, popupCloseProxy);
                onKey(events, dom, ['Esc', 'Escape'], popupCloseProxy);

                var timeKeeper = function timeKeeper(e) {
                    _this2.__containedEvent = e.timeStamp;
                };
                addEvent(dom, EVENT_CLICK_OUTSIDE, timeKeeper);

                addEvent(dom, EVENT_TAB_MOVE, timeKeeper);

                addEvent(_this2._domCancel, 'click', popupCloseProxy);
            });

            var onDoneProxy = function onDoneProxy(e) {
                _this2._ifPopup(function () {
                    return _this2.closeHandler(e);
                });
                if (_this2.onDone) {
                    _this2.onDone(_this2.colour);
                }
            };
            addEvent(this._domOkay, 'click', onDoneProxy);
            onKey(events, dom, ['Enter'], onDoneProxy);
        }
    }, {
        key: '_setPosition',
        value: function _setPosition() {
            var parent = this.settings.parent,
                elm = this.domElement;

            if (parent !== elm.parentNode) {
                parent.appendChild(elm);
            }

            this._ifPopup(function (popup) {

                if (getComputedStyle(parent).position === 'static') {
                    parent.style.position = 'relative';
                }

                var cssClass = popup === true ? 'popup_right' : 'popup_' + popup;

                ['popup_top', 'popup_bottom', 'popup_left', 'popup_right'].forEach(function (c) {

                    if (c === cssClass) {
                        elm.classList.add(c);
                    } else {
                        elm.classList.remove(c);
                    }
                });

                elm.classList.add(cssClass);
            });
        }
    }, {
        key: '_setHSLA',
        value: function _setHSLA(h, s, l, a, flags) {
            flags = flags || {};

            var col = this.colour,
                hsla = col.hsla;

            [h, s, l, a].forEach(function (x, i) {
                if (x || x === 0) {
                    hsla[i] = x;
                }
            });
            col.hsla = hsla;

            this._updateUI(flags);

            if (this.onChange && !flags.silent) {
                this.onChange(col);
            }
        }
    }, {
        key: '_updateUI',
        value: function _updateUI(flags) {
            if (!this.domElement) {
                return;
            }
            flags = flags || {};

            var col = this.colour,
                hsl = col.hsla,
                cssHue = 'hsl(' + hsl[0] * HUES + ', 100%, 50%)',
                cssHSL = col.hslString,
                cssHSLA = col.hslaString;

            var uiH = this._domH,
                uiSL = this._domSL,
                uiA = this._domA,
                thumbH = $('.picker_selector', uiH),
                thumbSL = $('.picker_selector', uiSL),
                thumbA = $('.picker_selector', uiA);

            function posX(parent, child, relX) {
                child.style.left = relX * 100 + '%';
            }
            function posY(parent, child, relY) {
                child.style.top = relY * 100 + '%';
            }

            posX(uiH, thumbH, hsl[0]);

            this._domSL.style.backgroundColor = this._domH.style.color = cssHue;

            posX(uiSL, thumbSL, hsl[1]);
            posY(uiSL, thumbSL, 1 - hsl[2]);

            uiSL.style.color = cssHSL;

            posY(uiA, thumbA, 1 - hsl[3]);

            var opaque = cssHSL,
                transp = opaque.replace('hsl', 'hsla').replace(')', ', 0)'),
                bg = 'linear-gradient(' + [opaque, transp] + ')';

            this._domA.style.background = bg + ', ' + BG_TRANSP;

            if (!flags.fromEditor) {
                var format = this.settings.editorFormat,
                    alpha = this.settings.alpha;

                var value = void 0;
                switch (format) {
                    case 'rgb':
                        value = col.printRGB(alpha);break;
                    case 'hsl':
                        value = col.printHSL(alpha);break;
                    default:
                        value = col.printHex(alpha);
                }
                this._domEdit.value = value;
            }

            this._domSample.style.color = cssHSLA;
        }
    }, {
        key: '_ifPopup',
        value: function _ifPopup(actionIf, actionElse) {
            if (this.settings.parent && this.settings.popup) {
                actionIf && actionIf(this.settings.popup);
            } else {
                actionElse && actionElse();
            }
        }
    }, {
        key: '_toggleDOM',
        value: function _toggleDOM(toVisible) {
            var dom = this.domElement;
            if (!dom) {
                return false;
            }

            var displayStyle = toVisible ? '' : 'none',
                toggle = dom.style.display !== displayStyle;

            if (toggle) {
                dom.style.display = displayStyle;
            }
            return toggle;
        }
    }]);
    return Picker;
}();

{
    var style = document.createElement('style');
    style.textContent = '.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}';
    document.documentElement.firstElementChild.appendChild(style);

    Picker.StyleElement = style;
}




/***/ }),

/***/ "./js/main.js":
/*!********************!*\
  !*** ./js/main.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modules_init_color_picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/init-color-picker */ "./js/modules/init-color-picker.js");
/* harmony import */ var _modules_init_color_sets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/init-color-sets */ "./js/modules/init-color-sets.js");
/* harmony import */ var _modules_init_drag_drop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/init-drag-drop */ "./js/modules/init-drag-drop.js");
/* harmony import */ var _modules_init_modals__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/init-modals */ "./js/modules/init-modals.js");




window.addEventListener('load', function () {
  Object(_modules_init_drag_drop__WEBPACK_IMPORTED_MODULE_2__["initDragDrop"])();
  Object(_modules_init_modals__WEBPACK_IMPORTED_MODULE_3__["initModals"])();
  Object(_modules_init_color_picker__WEBPACK_IMPORTED_MODULE_0__["initColorPicker"])();
  Object(_modules_init_color_sets__WEBPACK_IMPORTED_MODULE_1__["initColorSets"])();
});

/***/ }),

/***/ "./js/modules/color-set.js":
/*!*********************************!*\
  !*** ./js/modules/color-set.js ***!
  \*********************************/
/*! exports provided: ColorSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorSet", function() { return ColorSet; });
/* harmony import */ var _init_color_picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./init-color-picker */ "./js/modules/init-color-picker.js");
/* harmony import */ var _init_drag_drop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./init-drag-drop */ "./js/modules/init-drag-drop.js");
/* harmony import */ var _init_modals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./init-modals */ "./js/modules/init-modals.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }



var ColorSet = /*#__PURE__*/function () {
  function ColorSet() {
    _classCallCheck(this, ColorSet);
    this.modal = '';
    this.form = '';
    this.colorSets = [];
    this.colorSetData = {
      id: '',
      colorName: '',
      colorType: '',
      colorHex: ''
    };
    this.tbody = '';
    this.saveSetsBtn = '';
    this.deleteSetsBtn = '';
    this.addColorBtn = '';
    this.formBtn = '';
    this.onFormAddColor = this.onFormAddColor.bind(this);
    this.onFormChangeColor = this.onFormChangeColor.bind(this);
    this.addColorSet = this.addColorSet.bind(this);
    this.saveColorSets = this.saveColorSets.bind(this);
    this.deleteColorSet = this.deleteColorSet.bind(this);
    this.loadColorSets = this.loadColorSets.bind(this);
    this.onOrderChange = this.onOrderChange.bind(this);
    this.onAddColorClick = this.onAddColorClick.bind(this);
    this.onDeleteColorClick = this.onDeleteColorClick.bind(this);
    this.onChangeColorClick = this.onChangeColorClick.bind(this);
    this.init = this.init.bind(this);
  }

  // Добавление нового цвета в таблицу
  _createClass(ColorSet, [{
    key: "onFormAddColor",
    value: function onFormAddColor(e) {
      var formData = new FormData(this.form);
      this.colorSetData = {
        id: Date.now(),
        colorName: formData.get("color-name"),
        colorType: formData.get("color-type"),
        colorHex: this.form.querySelector('.picker_editor input').value
      };
      _init_modals__WEBPACK_IMPORTED_MODULE_2__["modals"].closeModal(this.modal);
      this.addColorSet(this.colorSetData);
      this.colorSets.push(this.colorSetData);
      this.form.reset();
    }

    // Изменение существующей сроки в таблице
  }, {
    key: "onFormChangeColor",
    value: function onFormChangeColor(e) {
      var _this = this;
      var formData = new FormData(this.form);
      var set = this.colorSets.find(function (set) {
        return set.id.toString() === _this.colorSetData.id;
      });
      var index = this.colorSets.indexOf(set);
      this.colorSets[index].colorName = formData.get("color-name");
      this.colorSets[index].colorType = formData.get("color-type");
      this.colorSets[index].colorHex = this.form.querySelector('.picker_editor input').value;
      this.addColorSet(this.colorSets[index]);
      _init_modals__WEBPACK_IMPORTED_MODULE_2__["modals"].closeModal(this.modal);
      this.form.reset();
    }

    // Добавляет новую строку либо изменяет сушествующую в зависимисти от data на кнопке формы: add / change
  }, {
    key: "addColorSet",
    value: function addColorSet(colorSet) {
      var trow;
      var rowTemplate = "\n      <td>\n        <div class=\"color-example\" style=\"background-color: ".concat(colorSet.colorHex, "\"></div>\n      </td>\n      <td>").concat(colorSet.colorName, "</td>\n      <td>").concat(colorSet.colorType, "</td>\n      <td>").concat(colorSet.colorHex, "</td>\n      <td>\n        <button class=\"btn btn--hover-blue\" data-table-btn=\"change\" type=\"button\" aria-label=\"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C\">\n          <svg width=\"20\" height=\"20\" aria-hidden=\"true\">\n            <use xlink:href=\"img/sprite.svg#icon-pen\"></use>\n          </svg> \n        </button>\n      </td>\n      <td>\n        <button class=\"btn btn--hover-sunset\" data-table-btn=\"delete\" type=\"button\" aria-label=\"\u0423\u0434\u0430\u043B\u0438\u0442\u044C\">\n          <svg width=\"20\" height=\"20\" aria-hidden=\"true\">\n            <use xlink:href=\"img/sprite.svg#icon-bin\"></use>\n          </svg>\n        </button>\n      </td>");
      if (this.formBtn.dataset.formBtn === 'change') {
        trow = this.tbody.querySelector("[data-color-set=\"".concat(colorSet.id, "\"]"));
        trow.innerHTML = rowTemplate;
        return;
      }
      trow = document.createElement('tr');
      trow.setAttribute('data-color-set', "".concat(colorSet.id));
      trow.setAttribute('data-table-row', '');
      trow.setAttribute('draggable', true);
      trow.innerHTML = rowTemplate;
      this.tbody.appendChild(trow);
      _init_drag_drop__WEBPACK_IMPORTED_MODULE_1__["dragDrop"].init();
    }

    // Сохраняет набор цветов в localStorage
  }, {
    key: "saveColorSets",
    value: function saveColorSets() {
      localStorage.setItem('colorSets', JSON.stringify(this.colorSets));
    }

    // Загружает набор цветов из localStorage
  }, {
    key: "loadColorSets",
    value: function loadColorSets() {
      var _this2 = this;
      this.colorSets = localStorage.getItem('colorSets') ? JSON.parse(localStorage.getItem('colorSets')) : [];
      if (this.colorSets.length) {
        this.colorSets.forEach(function (set) {
          return _this2.addColorSet(set);
        });
      }
    }

    // Удаляет наборы из localStorage и очищает таблицу
  }, {
    key: "deleteColorSet",
    value: function deleteColorSet() {
      localStorage.removeItem("colorSets");
      this.tbody.innerHTML = '';
    }

    // Отслеживает изменение порядка строк в таблице и пересобирает порядок в локальном файле с данными
  }, {
    key: "onOrderChange",
    value: function onOrderChange() {
      var _this3 = this;
      var trows = this.tbody.querySelectorAll('[data-table-row]');
      var orderedColorSets = [];
      trows.forEach(function (row) {
        var element = _this3.colorSets.find(function (set) {
          return row.dataset.colorSet === set.id.toString();
        });
        var eltIsDuplicate = orderedColorSets.find(function (elt) {
          return elt.id === element.id;
        });
        if (!eltIsDuplicate) {
          orderedColorSets.push(element);
        }
      });
      this.colorSets = orderedColorSets;
    }

    // По клику на сабмит кнопку в модальном окне запускает кастомные события на добавление новой строки или на изменение существующей
  }, {
    key: "onFormBtnClick",
    value: function onFormBtnClick(e) {
      e.preventDefault();
      if (e.target.dataset.formBtn === 'add') {
        this.form.dispatchEvent(new Event('addColor'));
      }
      if (e.target.dataset.formBtn === 'change') {
        this.form.dispatchEvent(new Event('changeColor'));
      }
    }

    // Колбек по клику на кнопку Добавить цвета
  }, {
    key: "onAddColorClick",
    value: function onAddColorClick() {
      this.formBtn.dataset.formBtn = 'add';
      this.formBtn.innerText = 'Добавить';
      _init_color_picker__WEBPACK_IMPORTED_MODULE_0__["picker"].setOptions({
        color: '#fff'
      });
    }

    // Удаляет одну строку из таблицы
  }, {
    key: "onDeleteColorClick",
    value: function onDeleteColorClick(_ref) {
      var target = _ref.target;
      if (!target.closest('[data-table-btn="delete"]')) {
        return;
      }
      var trow = target.closest('[data-table-row]');
      this.tbody.removeChild(trow);
      var el = this.colorSets.find(function (set) {
        return trow.dataset.colorSet === set.id.toString();
      });
      this.colorSets.splice(this.colorSets.indexOf(el), 1);
    }

    // Колбек по клику на кнопу редактировать
  }, {
    key: "onChangeColorClick",
    value: function onChangeColorClick(_ref2) {
      var target = _ref2.target;
      if (!target.closest('[data-table-btn="change"]')) {
        return;
      }
      _init_modals__WEBPACK_IMPORTED_MODULE_2__["modals"].openModal(this.modal);
      this.formBtn.dataset.formBtn = 'change';
      this.formBtn.innerText = 'Изменить';
      var id = target.closest('[data-color-set]').dataset.colorSet;
      var set = this.colorSets.find(function (set) {
        return set.id.toString() === id;
      });
      this.form.querySelector('[data-color-name]').value = set.colorName;
      this.form.querySelector('[data-color-type]').value = set.colorType;
      _init_color_picker__WEBPACK_IMPORTED_MODULE_0__["picker"].setOptions({
        color: set.colorHex
      });
      this.colorSetData = {
        id: id,
        colorName: set.colorName,
        colorType: set.colorType,
        colorHex: set.colorHex
      };
    }
  }, {
    key: "init",
    value: function init() {
      try {
        this.tbody = document.querySelector('[data-table-body]');
        this.modal = document.querySelector('[data-modal="color-picker"]');
        this.addColorBtn = document.querySelector('[data-modal-btn="color-picker"]');
        this.form = this.modal.querySelector('form');
        this.formBtn = this.form.querySelector('[data-form-btn]');
        this.saveSetsBtn = document.querySelector('[data-color-sets="save"]');
        this.deleteSetsBtn = document.querySelector('[data-color-sets="delete"]');
        this.loadColorSets();
        this.addColorBtn.addEventListener('click', this.onAddColorClick);
        this.formBtn.addEventListener('click', this.onFormBtnClick);
        this.form.addEventListener('addColor', this.onFormAddColor);
        this.form.addEventListener('changeColor', this.onFormChangeColor);
        this.saveSetsBtn.addEventListener('click', this.saveColorSets);
        this.deleteSetsBtn.addEventListener('click', this.deleteColorSet);
        this.tbody.addEventListener('changeOrder', this.onOrderChange);
        this.tbody.addEventListener('click', this.onDeleteColorClick);
        this.tbody.addEventListener('click', this.onChangeColorClick);
      } catch (error) {
        console.log(error);
      }
    }
  }]);
  return ColorSet;
}();

/***/ }),

/***/ "./js/modules/drag-drop.js":
/*!*********************************!*\
  !*** ./js/modules/drag-drop.js ***!
  \*********************************/
/*! exports provided: DragDrop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DragDrop", function() { return DragDrop; });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var DragDrop = /*#__PURE__*/function () {
  function DragDrop() {
    _classCallCheck(this, DragDrop);
    this.tbody = '';
    this.trows = [];
    this.changeOrder = new Event('changeOrder');
    this._onDragOver = this._onDragOver.bind(this);
    this.init = this.init.bind(this);
  }
  _createClass(DragDrop, [{
    key: "_onDragOver",
    value: function _onDragOver(e) {
      e.preventDefault();
      var activeElement = this.tbody.querySelector('.active');
      var currentElement = e.target.closest('[data-table-row]');
      if (activeElement === currentElement) {
        return;
      }
      var nextElement = currentElement === activeElement.nextElementSibling ? currentElement.nextElementSibling : currentElement;
      this.tbody.insertBefore(activeElement, nextElement);
    }

    // Отключает события если в таблице одна строка или нет ничего
  }, {
    key: "unInit",
    value: function unInit() {
      this.trows.forEach(function (row) {
        return row.draggable = false;
      });
      this.tbody.removeEventListener('dragover', this._onDragOver);
    }
  }, {
    key: "init",
    value: function init() {
      var _this = this;
      try {
        this.tbody = document.querySelector('[data-table-body]');
        this.trows = Array.from(document.querySelectorAll('[data-table-row]'));
        if (!this.tbody || this.trows.length <= 1) {
          this.unInit();
          return;
        }
        this.trows.forEach(function (row) {
          return row.draggable = true;
        });
        this.trows.forEach(function (row) {
          row.addEventListener('dragstart', function (_ref) {
            var target = _ref.target;
            return target.classList.add('active');
          });
          row.addEventListener('dragend', function (_ref2) {
            var target = _ref2.target;
            return target.classList.remove('active');
          });
          row.addEventListener('drop', function () {
            return _this.tbody.dispatchEvent(_this.changeOrder);
          });
        });
        this.tbody.addEventListener('dragover', this._onDragOver);
      } catch (error) {
        console.log(error);
      }
    }
  }]);
  return DragDrop;
}();

/***/ }),

/***/ "./js/modules/init-color-picker.js":
/*!*****************************************!*\
  !*** ./js/modules/init-color-picker.js ***!
  \*****************************************/
/*! exports provided: initColorPicker, picker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initColorPicker", function() { return initColorPicker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "picker", function() { return picker; });
/* harmony import */ var vanilla_picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vanilla-picker */ "../node_modules/vanilla-picker/dist/vanilla-picker.mjs");

var picker;
var initColorPicker = function initColorPicker() {
  var el = document.querySelector('[data-color-picker]');
  var rgbOutput = document.querySelector('[data-color-rgb="rgb"]');
  var rgbInput = document.querySelector('[data-color-rgb="input"]');
  var rInput = document.querySelector('[data-color-rgb="rInput"]');
  var bInput = document.querySelector('[data-color-rgb="gInput"]');
  var gInput = document.querySelector('[data-color-rgb="bInput"]');

  // Иницализация пикера
  picker = new vanilla_picker__WEBPACK_IMPORTED_MODULE_0__["default"]({
    parent: el,
    popup: false,
    color: '#fff',
    alpha: false
  });

  // Слушает события на ввод в RGB инпут, переводит их в массив со строками и скармливает строку с RGB пикеру
  rgbInput.addEventListener('input', function (e) {
    var j = true;
    if (e.target.value > 255) {
      e.target.value = '255';
    }
    var inputs = Array.from(rgbInput.querySelectorAll('[data-color-rgb]'));
    var rgbArr = inputs.map(function (input) {
      return input.value;
    });
    inputs.forEach(function (input) {
      return input.addEventListener('focusout', function () {
        if (e.target.value === '') {
          e.target.value = '0';
          rgbArr.splice(rgbArr.indexOf(''), 1, '0');
          console.log(rgbArr);
          picker.setColor("rgb(".concat(rgbArr.join(','), ")"));
          j = false;
        }
      });
    });
    var inputIsEmpty = rgbArr.some(function (item) {
      return item === '';
    });
    if (inputIsEmpty || !j) {
      return;
    }
    picker.setColor("rgb(".concat(rgbArr.join(','), ")"));
  });

  // Слушатель по скрытой строке, куда выводится цвет в RGB от пикера и затем передаются уже разбитые RGB строки в видимые инпуты
  rgbOutput.addEventListener('change', function (e) {
    var rgb = e.target.value.slice(4).slice(0, -1);
    var rgbArr = rgb.split(',');
    rInput.value = rgbArr[0];
    gInput.value = rgbArr[1];
    bInput.value = rgbArr[2];
  });

  // Слушатель на изменение в пикере, запускает кастомный ивент
  picker.onChange = function (color) {
    rgbOutput.value = color.rgbString;
    rgbOutput.dispatchEvent(new Event('change'));
  };
};


/***/ }),

/***/ "./js/modules/init-color-sets.js":
/*!***************************************!*\
  !*** ./js/modules/init-color-sets.js ***!
  \***************************************/
/*! exports provided: initColorSets, colorSetHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initColorSets", function() { return initColorSets; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colorSetHandler", function() { return colorSetHandler; });
/* harmony import */ var _color_set__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./color-set */ "./js/modules/color-set.js");

var colorSetHandler;
var initColorSets = function initColorSets() {
  colorSetHandler = new _color_set__WEBPACK_IMPORTED_MODULE_0__["ColorSet"]();
  colorSetHandler.init();
};


/***/ }),

/***/ "./js/modules/init-drag-drop.js":
/*!**************************************!*\
  !*** ./js/modules/init-drag-drop.js ***!
  \**************************************/
/*! exports provided: initDragDrop, dragDrop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initDragDrop", function() { return initDragDrop; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dragDrop", function() { return dragDrop; });
/* harmony import */ var _drag_drop__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./drag-drop */ "./js/modules/drag-drop.js");

var dragDrop;
var initDragDrop = function initDragDrop() {
  dragDrop = new _drag_drop__WEBPACK_IMPORTED_MODULE_0__["DragDrop"]();
  dragDrop.init();
};


/***/ }),

/***/ "./js/modules/init-modals.js":
/*!***********************************!*\
  !*** ./js/modules/init-modals.js ***!
  \***********************************/
/*! exports provided: initModals, modals */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initModals", function() { return initModals; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "modals", function() { return modals; });
/* harmony import */ var _modal_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal-handler */ "./js/modules/modal-handler.js");

var modals;
var initModals = function initModals() {
  modals = new _modal_handler__WEBPACK_IMPORTED_MODULE_0__["ModalHandler"]();
  modals.init();
};


/***/ }),

/***/ "./js/modules/modal-handler.js":
/*!*************************************!*\
  !*** ./js/modules/modal-handler.js ***!
  \*************************************/
/*! exports provided: ModalHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalHandler", function() { return ModalHandler; });
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var ModalHandler = /*#__PURE__*/function () {
  function ModalHandler() {
    _classCallCheck(this, ModalHandler);
    this.modal = '';
    this.btns = [];
    this.formBtn = '';
    this.closeModal = this.closeModal.bind(this);
    this.openModal = this.openModal.bind(this);
    this._onBtnClick = this._onBtnClick.bind(this);
    this._onEscClick = this._onEscClick.bind(this);
    this._onOverlayClick = this._onOverlayClick.bind(this);
    this.init = this.init.bind(this);
  }

  // Открытие модальных окон
  _createClass(ModalHandler, [{
    key: "openModal",
    value: function openModal(modal) {
      var _this = this;
      modal.classList.add('active');
      window.addEventListener('keydown', function (e) {
        return void _this._onEscClick(e, modal);
      });
      modal.addEventListener('click', function (e) {
        return void _this._onOverlayClick(e, modal);
      });
    }

    // Закрытие модальных окон
  }, {
    key: "closeModal",
    value: function closeModal(modal) {
      var _this2 = this;
      modal.classList.remove('active');
      window.removeEventListener('keydown', function (e) {
        return void _this2._onEscClick(e, modal);
      });
      modal.removeEventListener('click', function (e) {
        return void _this2._onOverlayClick(e, modal);
      });
    }

    // Закрытие по ESC
  }, {
    key: "_onEscClick",
    value: function _onEscClick(e, modal) {
      if (e.key === 'Escape') {
        this.closeModal(modal);
      }
    }

    // Закрытие по клику на оверлей
  }, {
    key: "_onOverlayClick",
    value: function _onOverlayClick(e, modal) {
      if (e.target === modal) {
        this.closeModal(modal);
      }
    }

    // Обработчик по клику на кнопку с data-modal. Находит модальное окно с аналогичным аттрибутом и открывает его
  }, {
    key: "_onBtnClick",
    value: function _onBtnClick(e) {
      try {
        var modal = e.currentTarget.dataset.modalBtn;
        this.modal = document.querySelector("[data-modal=\"".concat(modal, "\"]"));
        if (!this.modal) {
          return;
        }
        this.openModal(this.modal);
      } catch (error) {
        console.log(error);
      }
    }
  }, {
    key: "init",
    value: function init() {
      var _this3 = this;
      this.btns = document.querySelectorAll('[data-modal-btn]');
      if (!this.btns.length) {
        return;
      }
      this.btns.forEach(function (btn) {
        return btn.addEventListener('click', _this3._onBtnClick);
      });
    }
  }]);
  return ModalHandler;
}();

/***/ })

/******/ });
//# sourceMappingURL=main.min.js.map